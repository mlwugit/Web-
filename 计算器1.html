<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>计算器</title>
    <style type="text/css">
     .panel{
         border:4px solid #ddd; 
         width:192px;
         margin:100px auto;
         /* border-radius: 6px; */
     }
     .panel p, .panel input{
         font-family: "微软雅黑";
         font-size: 20px;
         margin: 4px;
         /* width:40px;
         height: 40px; */
          border:1px solid #ddd;
          float: left;  
     }
     .panel p{
         width:122px;
         height: 26px;
         border: 1px solid #ddd;
         padding: 6px;
         overflow:hidden; 
     }
     .panel input{
         width: 40px;
         height: 40px;
         border: 1px solid #ddd;
     }
</style>
<script type="text/javascript">
// 参数e用来接收传入的event对象
function cal(e){
//    1、获取事件源，只处理button事件
var obj=e.target;
if(obj.nodeName!="INPUT"){
    return;
}
var value=obj.value;
var p=document.getElementById("screen");
// 2、如果是【c】，则清空p
if(value=="c"){
  p.innerText = "";  
}
// 3、如果是[=],则运算
else if(value=="="){
 var exp=p.innerText;
 try{
 var result=eval("("+exp+")");
//  如果正确执行，将结果写入p
 p.innerText=result;
 }catch(e){
// 发生异常.给予错误的提示
p.innerText="Error.";
 }
}
// 4、如果是其它按钮，则将value追加到p中
else{
p.innerText += value;
}
}
</script>
</head>
<body>
    <!--在最外层的div上注册单击事件，传入event对象，然后在函数中通过event判断
    出事件来源于哪个button，然后做出处理。可以避免在button上大量的注册事件。  -->
  <div class="panel" onclick="cal(event);">
      <!--第一排，输入框和清除键  -->
  <div>
      <p id="screen"></p>
      <input type="button" value="c">
      <div style="clear:both"></div>
  </div>
  <div>
    <input type="button" value="7"/>
    <input type="button" value="8"/>
    <input type="button" value="9"/>
    <input type="button" value="/"/>

    <input type="button" value="4"/>
    <input type="button" value="5"/>
    <input type="button" value="6"/>
    <input type="button" value="*"/>

    <input type="button" value="1"/>
    <input type="button" value="2"/>
    <input type="button" value="3"/>
    <input type="button" value="+"/>

    <input type="button" value="0"/>
    <input type="button" value="."/>
    <input type="button" value="="/>
    <input type="button" value="-"/>
  </div>
  </div>
</body>
</html>